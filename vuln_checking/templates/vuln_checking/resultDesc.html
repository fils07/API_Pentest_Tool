{% extends "collectionmanagement/base.html" %}
{%load static%}
{%block content%}
<h1>Result of scan : {{scanName}}</h1>
<h2>On API collection : {{apiCollection.name}}</h2>

<div class="overflow-auto mb-3" style="height: 400px;">
    <table class="table table-bordered table-light border-primary">
        <thead style="color: black;background-color: rgba(210,215,217);font-weight: bold;">
            <tr>
                <th scope="col"></th>
                <th scope="col">YES</th>
                <th scope="col">NO</th>
                <th scope="col">NOT</th>
                <th scope="col">RATIO</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {%for endpoint in checkedEndpoints%}
            <tr>
                <td>{{endpoint.name}}</td>
                <td>15</td>
                <td>10</td>
                <td>9</td>
                <td>10/(YES+NO-NOT)</td>
                <td><a target="_blank" href="{%url 'detailResult' scanName endpoint.id%}" style="width: auto;"><img src="{%static 'images/see_more.png'%}" width="512px"/></a> <a href="#"><img src="{%static 'images/written-paper.png'%}"/></a></td>
            </tr>
        {%endfor%}
        </tbody>
    </table>
</div>

<div class="row">
   <div class="col-md-6">
        <div class="m-auto" style="width:350px;">
            <canvas id="pieChart"></canvas>
        </div>
   </div>

   <div class="col-md-6">
       <div class="m-auto" style="width:500px;">
         <canvas id="lineChart"></canvas>
       </div>
   </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    
const pieData = {
  labels: [
    'YES',
    'NO',
    'NOT'
  ],
  datasets: [{
    label: 'My First Dataset',
    data: [300, 50, 100],
    backgroundColor: [
      'rgb(255, 99, 132)',
      'rgb(54, 162, 235)',
      'rgb(255, 205, 86)'
    ],
    hoverOffset: 4
  }]
};
    
    const ctx = document.getElementById('pieChart');
    
    new Chart(ctx, {
      type: 'pie',
      data: pieData,
    });
    
    const lchart = document.getElementById('lineChart');
    
    const labels = ["Jan","Fev","March","Apr","May","Jun","Jul"];
const lineData = {
  labels: labels,
  datasets: [{
    label: 'LineDataset',
    data: [65, 59, 80, 81, 56, 55, 40],
    fill: false,
    borderColor: 'rgb(75, 192, 192)',
    tension: 0.1
  }]
};

new Chart(lchart, {
      type: 'line',
      data: lineData,
    });

</script>

{%endblock%}